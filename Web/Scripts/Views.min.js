var Views,Utils;(function(n){(function(n){var t=function(){function n(n){this.options=n,this.form=$("form"),this.submit=this.form.find("#submit");var t=this;this.submit.bind("click",null,function(n){return t.post(n)})}return n.prototype.post=function(){var t=this,n;return this.form.valid()?(n=this.form.serialize(),$.ajax(this.options.apiPostUrl,{type:"POST",data:n,accepts:"JSON",context:this}).success(function(n){t.successfulPost(n)}).error(function(n,t,i){(new Utils.ErrorHandler).webApiError(n,t,i)}),!1):!1},n.prototype.successfulPost=function(n){window.location.href=this.options.successRedirectUrl+n.Name},n}();n.New=t})(n.Project||(n.Project={}));var t=n.Project})(Views||(Views={})),function(n){var i=function(){function n(){}return n.prototype.webApiError=function(n){var i="["+n.status+"] "+n.statusText+"\n";try{i+=new t(n.responseText).toString()}catch(r){}alert(i)},n}(),t;n.ErrorHandler=i,t=function(){function n(n){var t=JSON.parse(n);this.Message=t.Message,this.ModelState=t.ModelState}return n.prototype.toString=function(){var n=this.Message;return n+("\n\nErrors:"+this.jsonModelStateToString())},n.prototype.jsonModelStateToString=function(){var n,t,i,r;if(!this.ModelState)return"";n="";for(t in this.ModelState)for(n+="\n    "+t+":",i=0,r=this.ModelState[t].length;i<r;i++)n+="\n        - "+this.ModelState[t][i];return n},n}()}(Utils||(Utils={}))